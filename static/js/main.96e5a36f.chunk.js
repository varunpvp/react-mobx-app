(this["webpackJsonpreact-mobx-app"]=this["webpackJsonpreact-mobx-app"]||[]).push([[0],{64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var r,s,o,i,c,a,u=n(19),p=n.n(u),h=n(18),d=n(3),b=n(0),j=n.n(b).a.createContext(null),l=function(){return Object(b.useContext)(j)},f=j,O=n(5),y=n(7),v=n(8),m=n(1),x=(r=function(){function t(e,n){Object(O.a)(this,t),this.store=e,this.id=void 0,this.postId=void 0,this.name=void 0,this.email=void 0,this.body=void 0,this.id=n.id,this.postId=n.postId,this.name=n.name,this.email=n.email,this.body=n.body,Object(m.n)(this)}return Object(y.a)(t,[{key:"post",get:function(){return this.store.post.byId.get(this.postId)}}]),t}(),Object(v.a)(r.prototype,"post",[m.g],Object.getOwnPropertyDescriptor(r.prototype,"post"),r.prototype),r),g=(s=function(){function t(e){Object(O.a)(this,t),this.store=e,this.byId=m.o.map(),Object(m.n)(this)}return Object(y.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new x(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),Object(v.a)(s.prototype,"load",[m.f],Object.getOwnPropertyDescriptor(s.prototype,"load"),s.prototype),Object(v.a)(s.prototype,"all",[m.g],Object.getOwnPropertyDescriptor(s.prototype,"all"),s.prototype),s),w=(o=function(){function t(e,n){Object(O.a)(this,t),this.store=e,this.id=void 0,this.userId=void 0,this.title=void 0,this.body=void 0,this.id=n.id,this.userId=n.userId,this.title=n.title,this.body=n.body,Object(m.n)(this)}return Object(y.a)(t,[{key:"user",get:function(){return this.store.user.byId.get(this.userId)}},{key:"comments",get:function(){var t=this;return this.store.comment.all.filter((function(e){return e.postId===t.id}))}}]),t}(),Object(v.a)(o.prototype,"user",[m.g],Object.getOwnPropertyDescriptor(o.prototype,"user"),o.prototype),Object(v.a)(o.prototype,"comments",[m.g],Object.getOwnPropertyDescriptor(o.prototype,"comments"),o.prototype),o),I=(i=function(){function t(e){Object(O.a)(this,t),this.store=e,this.byId=m.o.map(),Object(m.n)(this)}return Object(y.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new w(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),Object(v.a)(i.prototype,"load",[m.f],Object.getOwnPropertyDescriptor(i.prototype,"load"),i.prototype),Object(v.a)(i.prototype,"all",[m.g],Object.getOwnPropertyDescriptor(i.prototype,"all"),i.prototype),i),k=(c=function(){function t(e,n){Object(O.a)(this,t),this.store=e,this.id=void 0,this.name=void 0,this.username=void 0,this.email=void 0,this.id=n.id,this.name=n.name,this.username=n.username,this.email=n.email,Object(m.n)(this)}return Object(y.a)(t,[{key:"posts",get:function(){var t=this;return this.store.post.all.filter((function(e){return e.userId===t.id}))}}]),t}(),Object(v.a)(c.prototype,"posts",[m.g],Object.getOwnPropertyDescriptor(c.prototype,"posts"),c.prototype),c),P=(a=function(){function t(e){Object(O.a)(this,t),this.store=e,this.byId=m.o.map(),Object(m.n)(this)}return Object(y.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new k(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),Object(v.a)(a.prototype,"load",[m.f],Object.getOwnPropertyDescriptor(a.prototype,"load"),a.prototype),Object(v.a)(a.prototype,"all",[m.g],Object.getOwnPropertyDescriptor(a.prototype,"all"),a.prototype),a),B=n(34),D=n.n(B),A=n(4),E=n.n(A),C=n(9),F=function(){function t(e,n){Object(O.a)(this,t),this.api=e,this.store=n}return Object(y.a)(t,[{key:"getByPostId",value:function(){var t=Object(C.a)(E.a.mark((function t(e){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts/".concat(e,"/comments"));case 2:n=t.sent,this.store.comment.load(n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),S=function(){function t(e,n){Object(O.a)(this,t),this.api=e,this.store=n}return Object(y.a)(t,[{key:"getAll",value:function(){var t=Object(C.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts");case 2:e=t.sent,this.store.post.load(e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(C.a)(E.a.mark((function t(e){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts/".concat(e));case 2:n=t.sent,this.store.post.load([n.data]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getByUserId",value:function(){var t=Object(C.a)(E.a.mark((function t(e){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts?userId=".concat(e));case 2:n=t.sent,this.store.post.load(n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),U=function(){function t(e,n){Object(O.a)(this,t),this.api=e,this.store=n}return Object(y.a)(t,[{key:"getAll",value:function(){var t=Object(C.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/users");case 2:e=t.sent,this.store.user.load(e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(C.a)(E.a.mark((function t(e){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/users/".concat(e));case 2:n=t.sent,this.store.user.load([n.data]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),L=n(16),N=n(14),J=n(2),T=Object(N.a)((function(t){var e,n=t.post,r=t.ellipsisBody,s=void 0===r||r;return Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{children:n.title}),Object(J.jsxs)("p",{children:[s?n.body.substr(0,100):n.body,s&&Object(J.jsxs)("span",{children:["...",Object(J.jsx)(h.b,{to:"/post/".concat(n.id),children:"read more"})]})]}),Object(J.jsxs)("p",{children:["Written by ",Object(J.jsx)(h.b,{to:"/user/".concat(n.userId),children:null===(e=n.user)||void 0===e?void 0:e.name})]})]})})),R=Object(N.a)((function(){var t=l(),e=t.api,n=t.store,r=Object(b.useState)(!1),s=Object(L.a)(r,2),o=s[0],i=s[1],c=function(){var t=Object(C.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,e.post.getAll();case 4:return t.next=6,e.user.getAll();case 6:return t.prev=6,i(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){c()}),[]),o?Object(J.jsx)("div",{children:"loading..."}):Object(J.jsxs)("div",{children:[Object(J.jsx)("h1",{children:"Posts"}),n.post.all.map((function(t){return Object(J.jsx)(T,{post:t},t.id)}))]})})),W=Object(N.a)((function(t){var e=t.comment;return Object(J.jsxs)("div",{children:[Object(J.jsxs)("strong",{children:[e.name," \u2022 ",e.email]}),Object(J.jsx)("p",{children:e.body}),Object(J.jsx)("br",{})]})})),q=Object(N.a)((function(){var t=l(),e=t.api,n=t.store,r=Object(b.useState)(!1),s=Object(L.a)(r,2),o=s[0],i=s[1],c=Object(d.f)(),a=Number(c.postId),u=function(){var t=Object(C.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,e.post.getById(a);case 4:return t.next=6,e.comment.getByPostId(a);case 6:return t.prev=6,i(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();if(Object(b.useEffect)((function(){u()}),[]),o)return Object(J.jsx)("div",{children:"loading..."});var p=n.post.byId.get(Number(c.postId));return p?Object(J.jsxs)("div",{children:[Object(J.jsx)(T,{ellipsisBody:!1,post:p}),Object(J.jsx)("h2",{children:"Comments "}),p.comments.map((function(t){return Object(J.jsx)(W,{comment:t},t.id)}))]}):Object(J.jsx)("div",{children:"Post not found"})})),z=Object(N.a)((function(){var t=Object(b.useState)(!1),e=Object(L.a)(t,2),n=e[0],r=e[1],s=Object(d.f)(),o=Number(s.userId),i=l(),c=i.api,a=i.store,u=function(){var t=Object(C.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,c.user.getById(o);case 4:return t.next=6,c.post.getByUserId(o);case 6:return t.prev=6,r(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();if(Object(b.useEffect)((function(){u()}),[]),n)return Object(J.jsx)("div",{children:"loading..."});var p=a.user.byId.get(o);return p?Object(J.jsxs)("div",{children:[Object(J.jsxs)("h3",{children:[p.name," \u2022 ",p.username]}),Object(J.jsx)("p",{children:p.email}),Object(J.jsx)("h2",{children:"Posts"}),p.posts.map((function(t){return Object(J.jsx)(T,{post:t},t.id)}))]}):Object(J.jsx)("div",{children:"User not found"})})),G=new function t(){Object(O.a)(this,t),this.user=new P(this),this.post=new I(this),this.comment=new g(this)},H=new function t(e){Object(O.a)(this,t),this.client=D.a.create({baseURL:"https://jsonplaceholder.typicode.com"}),this.user=void 0,this.post=void 0,this.comment=void 0,this.user=new U(this,e),this.post=new S(this,e),this.comment=new F(this,e)}(G);var K=function(){return Object(J.jsx)(f.Provider,{value:{store:G,api:H},children:Object(J.jsx)(h.a,{children:Object(J.jsxs)(d.c,{children:[Object(J.jsx)(d.a,{path:"/user/:userId",component:z}),Object(J.jsx)(d.a,{path:"/post/:postId",component:q}),Object(J.jsx)(d.a,{path:"/",component:R})]})})})},M=(n(64),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(e){var n=e.getCLS,r=e.getFID,s=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),s(t),o(t),i(t)}))});p.a.render(Object(J.jsx)(K,{}),document.getElementById("root")),M()}},[[65,1,2]]]);
//# sourceMappingURL=main.96e5a36f.chunk.js.map