(this["webpackJsonpreact-mobx-app"]=this["webpackJsonpreact-mobx-app"]||[]).push([[0],{66:function(t,e,r){},67:function(t,e,r){"use strict";r.r(e);var n,s,i,o,c,a,u,p,h,d=r(20),b=r.n(d),l=r(19),j=r(3),f=r(0),O=r.n(f).a.createContext(null),y=function(){return Object(f.useContext)(O)},v=O,m=r(5),x=r(16),g=r(8),w=r(6),I=(r(23),r(1)),k=(n=function(){function t(e,r){Object(m.a)(this,t),this.store=e,this.id=void 0,this.postId=void 0,this.name=void 0,this.email=void 0,this.body=void 0,this.id=r.id,this.postId=r.postId,this.name=r.name,this.email=r.email,this.body=r.body,Object(I.o)(this)}return Object(g.a)(t,[{key:"post",get:function(){return this.store.post.byId.get(this.postId)}}]),t}(),Object(w.a)(n.prototype,"post",[I.h],Object.getOwnPropertyDescriptor(n.prototype,"post"),n.prototype),n),P=(s=function(){function t(e){Object(m.a)(this,t),this.store=e,Object(x.a)(this,"byId",i,this),Object(I.o)(this)}return Object(g.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new k(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),i=Object(w.a)(s.prototype,"byId",[I.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I.b}}),Object(w.a)(s.prototype,"load",[I.g],Object.getOwnPropertyDescriptor(s.prototype,"load"),s.prototype),Object(w.a)(s.prototype,"all",[I.h],Object.getOwnPropertyDescriptor(s.prototype,"all"),s.prototype),s),B=(o=function(){function t(e,r){Object(m.a)(this,t),this.store=e,this.id=void 0,this.userId=void 0,this.title=void 0,this.body=void 0,this.id=r.id,this.userId=r.userId,this.title=r.title,this.body=r.body,Object(I.o)(this)}return Object(g.a)(t,[{key:"user",get:function(){return this.store.user.byId.get(this.userId)}},{key:"comments",get:function(){var t=this;return this.store.comment.all.filter((function(e){return e.postId===t.id}))}}]),t}(),Object(w.a)(o.prototype,"user",[I.h],Object.getOwnPropertyDescriptor(o.prototype,"user"),o.prototype),Object(w.a)(o.prototype,"comments",[I.h],Object.getOwnPropertyDescriptor(o.prototype,"comments"),o.prototype),o),D=(c=function(){function t(e){Object(m.a)(this,t),this.store=e,Object(x.a)(this,"byId",a,this),Object(I.o)(this)}return Object(g.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new B(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),a=Object(w.a)(c.prototype,"byId",[I.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I.b}}),Object(w.a)(c.prototype,"load",[I.g],Object.getOwnPropertyDescriptor(c.prototype,"load"),c.prototype),Object(w.a)(c.prototype,"all",[I.h],Object.getOwnPropertyDescriptor(c.prototype,"all"),c.prototype),c),A=(u=function(){function t(e,r){Object(m.a)(this,t),this.store=e,this.id=void 0,this.name=void 0,this.username=void 0,this.email=void 0,this.id=r.id,this.name=r.name,this.username=r.username,this.email=r.email,Object(I.o)(this)}return Object(g.a)(t,[{key:"posts",get:function(){var t=this;return this.store.post.all.filter((function(e){return e.userId===t.id}))}}]),t}(),Object(w.a)(u.prototype,"posts",[I.h],Object.getOwnPropertyDescriptor(u.prototype,"posts"),u.prototype),u),E=(p=function(){function t(e){Object(m.a)(this,t),this.store=e,Object(x.a)(this,"byId",h,this),Object(I.o)(this)}return Object(g.a)(t,[{key:"load",value:function(t){var e=this;t.forEach((function(t){return e.byId.set(t.id,new A(e.store,t))}))}},{key:"all",get:function(){return Array.from(this.byId.values())}}]),t}(),h=Object(w.a)(p.prototype,"byId",[I.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I.b}}),Object(w.a)(p.prototype,"load",[I.g],Object.getOwnPropertyDescriptor(p.prototype,"load"),p.prototype),Object(w.a)(p.prototype,"all",[I.h],Object.getOwnPropertyDescriptor(p.prototype,"all"),p.prototype),p),C=r(36),F=r.n(C),S=r(4),U=r.n(S),z=r(9),L=function(){function t(e,r){Object(m.a)(this,t),this.api=e,this.store=r}return Object(g.a)(t,[{key:"getByPostId",value:function(){var t=Object(z.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts/".concat(e,"/comments"));case 2:r=t.sent,this.store.comment.load(r.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),N=function(){function t(e,r){Object(m.a)(this,t),this.api=e,this.store=r}return Object(g.a)(t,[{key:"getAll",value:function(){var t=Object(z.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts");case 2:e=t.sent,this.store.post.load(e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(z.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts/".concat(e));case 2:r=t.sent,this.store.post.load([r.data]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getByUserId",value:function(){var t=Object(z.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/posts?userId=".concat(e));case 2:r=t.sent,this.store.post.load(r.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),J=function(){function t(e,r){Object(m.a)(this,t),this.api=e,this.store=r}return Object(g.a)(t,[{key:"getAll",value:function(){var t=Object(z.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/users");case 2:e=t.sent,this.store.user.load(e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(z.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.client.get("/users/".concat(e));case 2:r=t.sent,this.store.user.load([r.data]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),T=r(17),R=r(14),W=r(2),q=Object(R.a)((function(t){var e,r=t.post,n=t.ellipsisBody,s=void 0===n||n;return Object(W.jsxs)("div",{children:[Object(W.jsx)("h2",{children:r.title}),Object(W.jsxs)("p",{children:[s?r.body.substr(0,100):r.body,s&&Object(W.jsxs)("span",{children:["...",Object(W.jsx)(l.b,{to:"/post/".concat(r.id),children:"read more"})]})]}),Object(W.jsxs)("p",{children:["Written by ",Object(W.jsx)(l.b,{to:"/user/".concat(r.userId),children:null===(e=r.user)||void 0===e?void 0:e.name})]})]})})),G=Object(R.a)((function(){var t=y(),e=t.api,r=t.store,n=Object(f.useState)(!1),s=Object(T.a)(n,2),i=s[0],o=s[1],c=function(){var t=Object(z.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,e.post.getAll();case 4:return t.next=6,e.user.getAll();case 6:return t.prev=6,o(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();return Object(f.useEffect)((function(){c()}),[]),i?Object(W.jsx)("div",{children:"loading..."}):Object(W.jsxs)("div",{children:[Object(W.jsx)("h1",{children:"Posts"}),r.post.all.map((function(t){return Object(W.jsx)(q,{post:t},t.id)}))]})})),H=Object(R.a)((function(){var t=y(),e=t.api,r=t.store,n=Object(f.useState)(!1),s=Object(T.a)(n,2),i=s[0],o=s[1],c=Object(j.f)(),a=Number(c.postId),u=function(){var t=Object(z.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,e.post.getById(a);case 4:return t.next=6,e.comment.getByPostId(a);case 6:return t.prev=6,o(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();if(Object(f.useEffect)((function(){u()}),[]),i)return Object(W.jsx)("div",{children:"loading..."});var p=r.post.byId.get(Number(c.postId));return p?Object(W.jsxs)("div",{children:[Object(W.jsx)(q,{ellipsisBody:!1,post:p}),Object(W.jsx)("h2",{children:"Comments "}),p.comments.map((function(t){return Object(W.jsxs)("div",{children:[Object(W.jsxs)("strong",{children:[t.name," \u2022 ",t.email]}),Object(W.jsx)("p",{children:t.body}),Object(W.jsx)("br",{})]},t.id)}))]}):Object(W.jsx)("div",{children:"Post not found"})})),K=Object(R.a)((function(){var t,e=Object(f.useState)(!1),r=Object(T.a)(e,2),n=r[0],s=r[1],i=Object(j.f)(),o=Number(i.userId),c=y(),a=c.api,u=c.store,p=function(){var t=Object(z.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,a.user.getById(o);case 4:return t.next=6,a.post.getByUserId(o);case 6:return t.prev=6,s(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(){return t.apply(this,arguments)}}();if(Object(f.useEffect)((function(){p()}),[]),n)return Object(W.jsx)("div",{children:"loading..."});var h=u.user.byId.get(o);return h?Object(W.jsxs)("div",{children:[Object(W.jsxs)("h3",{children:[h.name," \u2022 ",h.username]}),Object(W.jsx)("p",{children:h.email}),Object(W.jsx)("h2",{children:"Posts"}),null===(t=h.posts)||void 0===t?void 0:t.map((function(t){return Object(W.jsx)(q,{post:t},t.id)}))]}):Object(W.jsx)("div",{children:"User not found"})})),M=new function t(){Object(m.a)(this,t),this.user=new E(this),this.post=new D(this),this.comment=new P(this)},Q=new function t(e){Object(m.a)(this,t),this.client=F.a.create({baseURL:"https://jsonplaceholder.typicode.com"}),this.user=void 0,this.post=void 0,this.comment=void 0,this.user=new J(this,e),this.post=new N(this,e),this.comment=new L(this,e)}(M);var V=function(){return Object(W.jsx)(v.Provider,{value:{store:M,api:Q},children:Object(W.jsx)(l.a,{children:Object(W.jsxs)(j.c,{children:[Object(W.jsx)(j.a,{path:"/user/:userId",component:K}),Object(W.jsx)(j.a,{path:"/post/:postId",component:H}),Object(W.jsx)(j.a,{path:"/",component:G})]})})})},X=(r(66),function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,68)).then((function(e){var r=e.getCLS,n=e.getFID,s=e.getFCP,i=e.getLCP,o=e.getTTFB;r(t),n(t),s(t),i(t),o(t)}))});b.a.render(Object(W.jsx)(V,{}),document.getElementById("root")),X()}},[[67,1,2]]]);
//# sourceMappingURL=main.d5427622.chunk.js.map